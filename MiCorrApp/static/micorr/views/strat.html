<section ng-controller="showStrat">
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-6">
                <ol class="breadcrumb">
                    <li><a href="#">Home</a></li>
                    <li><a href="#/artefact/{{artefactName}}">{{artefactName}}</a></li>
                    <li><a href="#/artefact/{{artefactName}}/{{stratigraphyName}}">{{stratigraphyName}}<a/></li>
                </ol>
            </div>
            <div class="col-md-6">
                <div class="row">
                    <div class="col-md-3 text-center" ng-controller="ModalAddStrataCtrl">
                        <script type="text/ng-template" id="modalAddStrata.html">
                            <div class="modal-header">
                                <h3 class="modal-title">Add a strata</h3>
                            </div>
                            <div class="modal-body">
                                <form>
                                    <div class="form-group">
                                        <label for="natureFamily">Nature Family</label>
                                        <select ng-model="nature" id="natureFamily" class="form-control" >
                                            <option ng-repeat="nature in natures.natures" value="{{nature.code}}">{{nature.description}}</option>
                                        </select>
                                    </div>
                                </form>
                            </div>

                            <div class="modal-footer">
                                <button class="btn btn-primary" ng-click="ok()">OK</button>
                                <button class="btn btn-warning" ng-click="cancel()">Cancel</button>
                            </div>
                        </script>

                        <button type="button" class="btn btn-primary" ng-click="open()">
                                <span class="glyphicon glyphicon glyphicon-plus" aria-hidden="true"></span>
                                Add a strata
                        </button>
                    </div>
                    <div class="col-md-2 text-center">
                        <button ng-click="dothings()" type="button" class="btn btn-primary">
                            <span class="glyphicon glyphicon-floppy-saved" aria-hidden="true"></span>
                            Save
                        </button>
                    </div>
                    <div class="col-md-2 text-center">
                        <button ng-click="dothings()" type="button" class="btn btn-primary">
                            <span class="glyphicon glyphicon-search" aria-hidden="true"></span>
                            Find similar
                        </button>
                    </div>
                    <div class="col-md-2 text-center">
                        <button type="button" class="btn btn-primary">
                            <span class="glyphicon glyphicon-share-alt" aria-hidden="true"></span>
                            Export to PNG
                        </button>
                    </div>
                    <div class="col-md-3 text-center">

                        <div ng-controller="ModalDelStrataCtrl">
                            <script type="text/ng-template" id="delStrataContent.html">
                                <div class="modal-header">
                                    <h3 class="modal-title">Delete this strata</h3>
                                </div>
                                <div class="modal-body">
                                    <p>Do you really want to delete this strata ?</p>
                                </div>
                                <div class="modal-footer">
                                    <button class="btn btn-primary" ng-click="ok()">OK</button>
                                    <button class="btn btn-warning" ng-click="cancel()">Cancel</button>
                                </div>
                            </script>

                            <button class="btn btn-primary" ng-click="open('sm')">
                                <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
                                Delete this strata
                            </button>
                            </button>
                        </div>



                    </div>
                </div>

            </div>
        </div>
    </div>

    <div class="container-fluid">
        <div class="row">
            <div class="col-md-6">
                <div ng-controller="tabsStrata">
                    <div ng-hide="showTabForms">
                        <div class="jumbotron">
                            <h1>Stratigraphy visualizer</h1>
                            <p>Please select or add a strata to show its properties.</p>
                        </div>
                    </div>

                    <div class="row-fluid" ng-show="showTabForms">
                        <div class="col-md-5">
                            <blockquote>
                                <p>
                                    Strata : {{strataName}}
                                    <button ng-click="movestrataup()" type="button" class="btn btn-primary btn-xs"><span class="glyphicon glyphicon-chevron-up" aria-hidden="true"></span></button>
                                    <button ng-click="movestratadown()" type="button" class="btn btn-primary btn-xs"><span class="glyphicon glyphicon-chevron-down" aria-hidden="true"></span></button>
                                </p>
                            </blockquote>
                        </div>
                        <div class="col-md-5">
                            <blockquote>
                                <p>
                                    Nature family : {{natureFamilyname}}
                                </p>
                            </blockquote>
                        </div>
                        <div class="col-md-2">
                        </div>
                    </div>
                    <tabset ng-show="showTabForms" justified="true">
                        <tab heading="Morphology" ng-controller="stratMorphologyCtrl">
                            <form>
                                <div class="row-fluid">
                                    <div class="col-md-6 form-group">
                                        <label for="morphologyShape">Shape</label>
                                        <select id="morphologyShape" class="form-control" ng-model="selectedShapeFamily" ng-options="x.name for x in shapeFamily" ng-change="upMorpho()">
                                            <option value=""></option>
                                        </select>
                                    </div>
                                    <div class="col-md-6 form-group">
                                        <label for="morphologyWidth">Width</label>
                                        <select id="morphologyWidth" class="form-control" ng-model="selectedWidthFamily" ng-options="x.name for x in widthFamily" ng-change="upMorpho()">
                                            <option value=""></option>
                                        </select>
                                    </div>
                                </div>
                                <div class="row-fluid">
                                    <div class="col-md-6 form-group">
                                        <label for="morphologyThickness">Thickness</label>
                                        <select id="morphologyThickness" class="form-control" ng-model="selectedThicknessFamily" ng-options="x.name for x in thicknessFamily" ng-change="upMorpho()">
                                            <option value=""></option>
                                        </select>
                                    </div>
                                    <div class="col-md-6 form-group">
                                        <label for="morphologyContinuity">Continuity</label>
                                        <select id="morphologyContinuity" class="form-control" ng-model="selectedContinuityFamily" ng-options="x.name for x in continuityFamily" ng-change="upMorpho()">
                                            <option value=""></option>
                                        </select>
                                    </div>
                                </div>
                                <div class="row-fluid">
                                    <div class="col-md-6 form-group">
                                        <label for="morphologyDirection">Direction</label>
                                        <select id="morphologyDirection" class="form-control" ng-model="selectedDirectionFamily" ng-options="x.name for x in directionFamily" ng-change="upMorpho()">
                                            <option value=""></option>
                                        </select>
                                    </div>
                                    <div ng-show="showColor" class="col-md-6 form-group">
                                        <label for="physicalPropertyColor">Colour</label>
                                        <select id="physicalPropertyColor" class="form-control" ng-model="selectedColourFamily" ng-options="x.name for x in colourFamily" ng-change="upMorpho()">
                                            <option value=""></option>
                                        </select>
                                    </div>
                                </div>
                                <div class="row-fluid">
                                    <div ng-show="showBrightness" class="col-md-6 form-group">
                                        <label for="physicalPropertyBrightness">Brightness</label>
                                        <select id="physicalPropertyBrightness" class="form-control" ng-model="selectedBrightnessFamily" ng-options="x.name for x in brightnessFamily" ng-change="upMorpho()">
                                            <option value=""></option>
                                        </select>
                                    </div>
                                    <div ng-show="showBrightness" class="col-md-6 form-group">
                                        <label for="physicalPropertyOpacity">Opacity</label>
                                        <select id="physicalPropertyOpacity" class="form-control" ng-model="selectedOpacityFamily" ng-options="x.name for x in opacityFamily" ng-change="upMorpho()">
                                            <option value=""></option>
                                        </select>
                                    </div>
                                </div>
                                <div class="row-fluid">
                                    <div ng-show="showMagnetism" class="col-md-6 form-group">
                                        <label for="physicalPropertyMagnetism">Magnetism</label>
                                        <select id="physicalPropertyMagnetism" class="form-control" ng-model="selectedMagnetismFamily" ng-options="x.name for x in magnetismFamily" ng-change="upMorpho()">
                                            <option value=""></option>
                                        </select>
                                    </div>
                                    <div class="col-md-6 form-group">
                                    </div>
                                </div>
                            </form>
                        </tab>
                        <tab heading="Texture" ng-controller="stratTextureCtrl">
                            <form>
                                <div class="row-fluid">
                                    <div ng-show="showPorosity" class="col-md-6 form-group">
                                        <label for="texturePorosity">Texture</label>
                                        <select id="texturePorosity" class="form-control" ng-model="selectedPorosityFamily" ng-options="x.name for x in porosityFamily" ng-change="upTexture()">
                                            <option value=""></option>
                                        </select>
                                    </div>
                                    <div ng-show="showCohesion" class="col-md-6 form-group">
                                        <label for="textureCohesion">Cohesion</label>
                                        <select id="textureCohesion" class="form-control" ng-model="selectedCohesionFamily" ng-options="x.name for x in cohesionFamily" ng-change="upTexture()">
                                            <option value=""></option>
                                        </select>
                                    </div>
                                </div>
                                <div class="row-fluid">
                                    <div ng-show="showHardness" class="col-md-6 form-group">
                                        <label for="textureHardness">Hardness</label>
                                        <select id="textureHardness" class="form-control" ng-model="selectedHardnessFamily" ng-options="x.name for x in hardnessFamily" ng-change="upTexture()">
                                            <option value=""></option>
                                        </select>
                                    </div>
                                    <div ng-show="showCracking" class="col-md-6 form-group">
                                        <label for="textureCracking">Cracking</label>
                                        <select id="textureCracking" class="form-control" ng-model="selectedCrackingFamily" ng-options="x.name for x in crackingFamily" ng-change="upTexture()">
                                            <option value=""></option>
                                        </select>
                                    </div>
                                </div>
                            </form>
                        </tab>
                        <tab heading="Microstructure" ng-controller="stratMicrostructureCtrl">
                            <form>
                                <div class="row-fluid">
                                    <div ng-show="showcprimicrostructureFamily" class="col-md-6 form-group">
                                        <label for="cpriMicrostructureFamily">cpriMicrostructure</label>
                                        <select id="cpriMicrostructureFamily" class="form-control" ng-model="selectedCprimicrostructureFamily" ng-options="x.name for x in cprimicrostructureFamily" ng-change="upMicrostructure()">
                                            <option value=""></option>
                                        </select>
                                    </div>
                                    <div ng-show="showmmicrostructureFamily" class="col-md-6 form-group">
                                        <label for="mMicrostructureFamily">mMicrostructure</label>
                                        <select id="mMicrostructureFamily" class="form-control" ng-model="selectedMmicrostructureFamily" ng-options="x.name for x in mmicrostructureFamily" ng-change="upMicrostructure()">
                                            <option value=""></option>
                                        </select>
                                    </div>
                                </div>
                            </form>
                        </tab>
                        <tab heading="Composition" ng-controller="stratCompositionCtrl">
                            <form>
                                <div class="row-fluid">
                                    <div ng-show="showScomposition" class="col-md-6 form-group">
                                        <label for="sCompositionFamily">sComposition</label>
                                        <select id="sCompositionFamily" class="form-control" ng-model="selectedscompositionFamily" ng-options="x.name for x in scompositionFamily" ng-change="upComposition()">
                                            <option value=""></option>
                                        </select>
                                    </div>
                                    <div ng-show="showNmmcomposition" class="col-md-6 form-group">
                                        <label for="nmmCompositionFamily">nmmComposition</label>
                                        <select id="nmmCompositionFamily" class="form-control" ng-model="selectedNmmcompositionFamily" ng-options="x.name for x in nmmcompositionFamily" ng-change="upComposition()">
                                            <option value=""></option>
                                        </select>
                                    </div>
                                </div>
                                <div class="row-fluid">
                                    <div ng-show="showDcomposition" class="col-md-6 form-group">
                                        <label for="dCompositionFamily">dComposition</label>
                                        <select id="dCompositionFamily" class="form-control" ng-model="selectedDcompositionFamily" ng-options="x.name for x in dcompositionFamily" ng-change="upComposition()">
                                            <option value=""></option>
                                        </select>
                                    </div>
                                    <div ng-show="showPomcomposition" class="col-md-6 form-group">
                                        <label for="pomCompositionFamily">pomComposition</label>
                                        <select id="pomCompositionFamily" class="form-control" ng-model="selectedPomcompositionFamily" ng-options="x.name for x in pomcompositionFamily" ng-change="upComposition()">
                                            <option value=""></option>
                                        </select>
                                    </div>
                                </div>
                                <div class="row-fluid">
                                    <div ng-show="showCpcomposition" class="col-md-6 form-group">
                                        <label for="cpCompositionFamily">cpComposition</label>
                                        <select id="cpCompositionFamily" class="form-control" ng-model="selectedCpcompositionFamily" ng-options="x.name for x in cpcompositionFamily" ng-change="upComposition()">
                                            <option value=""></option>
                                        </select>
                                    </div>
                                    <div ng-show="showCmcomposition" class="col-md-6 form-group">
                                        <label for="cmCompositionFamily">cmComposition</label>
                                        <select id="cmCompositionFamily" class="form-control" ng-model="selectedCmcompositionFamily" ng-options="x.name for x in cmcompositionFamily" ng-change="upComposition()">
                                            <option value=""></option>
                                        </select>
                                    </div>
                                </div>
                                <div class="row-fluid">
                                    <div ng-show="showMcomposition" class="col-md-6 form-group">
                                        <label for="mCompositionFamily">mComposition</label>
                                        <select id="mCompositionFamily" class="form-control" ng-model="selectedMcompositionFamily" ng-options="x.name for x in mcompositionFamily" ng-change="upComposition()">
                                            <option value=""></option>
                                        </select>
                                    </div>
                                    <div ng-show="showCmcomposition" class="col-md-6 form-group">
                                    </div>
                                </div>
                            </form>
                        </tab>
                        <tab heading="Interfaces" ng-controller="stratInterfaceCtrl">
                            <div class="row-fluid">
                                <div class="col-md-6 form-group">
                                    <label for="interfaceProfileFamily">Profile</label>
                                    <select id="interfaceProfileFamily" class="form-control" ng-model="selectedInterfaceprofileFamily" ng-options="x.name for x in interfaceprofileFamily" ng-change="upInterface()">
                                        <option value=""></option>
                                    </select>
                                </div>
                                <div ng-show="showinterfacetransition" class="col-md-6 form-group">
                                    <label for="interfaceTransitionFamily">Transition</label>
                                    <select id="interfaceTransitionFamily" class="form-control" ng-model="selectedInterfacetransitionFamily" ng-options="x.name for x in interfacetransitionFamily" ng-change="upInterface()">
                                        <option value=""></option>
                                    </select>
                                </div>
                            </div>
                            <div class="row-fluid">
                                <div ng-show="showinterfaceroughness" class="col-md-6 form-group">
                                    <label for="interfaceRoughnessFamily">Roughness</label>
                                    <select id="interfaceRoughnessFamily" class="form-control" ng-model="selectedInterfaceroughnessFamily" ng-options="x.name for x in interfaceroughnessFamily" ng-change="upInterface()">
                                        <option value=""></option>
                                    </select>
                                </div>
                                <div ng-show="showinterfaceadherence" class="col-md-6 form-group">
                                    <label for="interfaceAdherenceFamily">Adherence</label>
                                    <select id="interfaceAdherenceFamily" class="form-control" ng-model="selectedInterfaceadherenceFamily" ng-options="x.name for x in interfaceadherenceFamily" ng-change="upInterface()">
                                        <option value=""></option>
                                    </select>
                                </div>
                            </div>
                        </tab>
                    </tabset>
                </div>
            </div>
            <div id="hello" class="col-md-6">
                <div class="row-fluid">

                    <div class="col-md-11" ng-repeat="strata in rstratas">
                        <stratainfo index="{{$index}}"></stratainfo>
                        <strata index="{{$index}}"></strata>
                    </div>
                </div>
            </div>
        </div>
    </div>

</section>